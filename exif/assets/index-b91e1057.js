var ae=Object.defineProperty;var oe=(o,e,u)=>e in o?ae(o,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[e]=u;var H=(o,e,u)=>(oe(o,typeof e!="symbol"?e+"":e,u),u);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))f(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&f(x)}).observe(document,{childList:!0,subtree:!0});function u(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerPolicy&&(d.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?d.credentials="include":n.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function f(n){if(n.ep)return;n.ep=!0;const d=u(n);fetch(n.href,d)}})();function T(){}function Y(o){return o()}function V(){return Object.create(null)}function F(o){o.forEach(Y)}function K(o){return typeof o=="function"}function se(o,e){return o!=o?e==e:o!==e||o&&typeof o=="object"||typeof o=="function"}let Q;function fe(o,e){return o===e?!0:(Q||(Q=document.createElement("a")),Q.href=e,o===Q.href)}function ue(o){return Object.keys(o).length===0}function E(o,e){o.appendChild(e)}function ce(o,e,u){o.insertBefore(e,u||null)}function J(o){o.parentNode&&o.parentNode.removeChild(o)}function O(o){return document.createElement(o)}function le(o){return document.createTextNode(o)}function M(){return le(" ")}function j(o,e,u,f){return o.addEventListener(e,u,f),()=>o.removeEventListener(e,u,f)}function w(o,e,u){u==null?o.removeAttribute(e):o.getAttribute(e)!==u&&o.setAttribute(e,u)}function he(o){return Array.from(o.childNodes)}let z;function _(o){z=o}const I=[],G=[];let L=[];const X=[],de=Promise.resolve();let q=!1;function ge(){q||(q=!0,de.then(Z))}function N(o){L.push(o)}const W=new Set;let R=0;function Z(){if(R!==0)return;const o=z;do{try{for(;R<I.length;){const e=I[R];R++,_(e),pe(e.$$)}}catch(e){throw I.length=0,R=0,e}for(_(null),I.length=0,R=0;G.length;)G.pop()();for(let e=0;e<L.length;e+=1){const u=L[e];W.has(u)||(W.add(u),u())}L.length=0}while(I.length);for(;X.length;)X.pop()();q=!1,W.clear(),_(o)}function pe(o){if(o.fragment!==null){o.update(),F(o.before_update);const e=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,e),o.after_update.forEach(N)}}function xe(o){const e=[],u=[];L.forEach(f=>o.indexOf(f)===-1?e.push(f):u.push(f)),u.forEach(f=>f()),L=e}const me=new Set;function ve(o,e){o&&o.i&&(me.delete(o),o.i(e))}function Ae(o,e,u){const{fragment:f,after_update:n}=o.$$;f&&f.m(e,u),N(()=>{const d=o.$$.on_mount.map(Y).filter(K);o.$$.on_destroy?o.$$.on_destroy.push(...d):F(d),o.$$.on_mount=[]}),n.forEach(N)}function be(o,e){const u=o.$$;u.fragment!==null&&(xe(u.after_update),F(u.on_destroy),u.fragment&&u.fragment.d(e),u.on_destroy=u.fragment=null,u.ctx=[])}function ye(o,e){o.$$.dirty[0]===-1&&(I.push(o),ge(),o.$$.dirty.fill(0)),o.$$.dirty[e/31|0]|=1<<e%31}function Se(o,e,u,f,n,d,x,y=[-1]){const m=z;_(o);const t=o.$$={fragment:null,ctx:[],props:d,update:T,not_equal:n,bound:V(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:V(),dirty:y,skip_bound:!1,root:e.target||m.$$.root};x&&x(t.root);let r=!1;if(t.ctx=u?u(o,e.props||{},(i,s,...a)=>{const g=a.length?a[0]:s;return t.ctx&&n(t.ctx[i],t.ctx[i]=g)&&(!t.skip_bound&&t.bound[i]&&t.bound[i](g),r&&ye(o,i)),s}):[],t.update(),r=!0,F(t.before_update),t.fragment=f?f(t.ctx):!1,e.target){if(e.hydrate){const i=he(e.target);t.fragment&&t.fragment.l(i),i.forEach(J)}else t.fragment&&t.fragment.c();e.intro&&ve(o.$$.fragment),Ae(o,e.target,e.anchor),Z()}_(m)}class Ee{constructor(){H(this,"$$");H(this,"$$set")}$destroy(){be(this,1),this.$destroy=T}$on(e,u){if(!K(u))return T;const f=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return f.push(u),()=>{const n=f.indexOf(u);n!==-1&&f.splice(n,1)}}$set(e){this.$$set&&!ue(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pe);var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ce(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var ee={exports:{}};(function(o){(function(e){var u=e.URL||e.webkitURL;function f(t){return u?u.createObjectURL(t):!1}function n(t){return u?u.revokeObjectURL(t):!1}function d(t,r){t&&t.slice(0,5)==="blob:"&&!(r&&r.noRevoke)&&n(t)}function x(t,r,i,s){if(!e.FileReader)return!1;var a=new FileReader;a.onload=function(){r.call(a,this.result)},i&&(a.onabort=a.onerror=function(){i.call(a,this.error)});var g=a[s||"readAsDataURL"];if(g)return g.call(a,t),a}function y(t,r){return Object.prototype.toString.call(r)==="[object "+t+"]"}function m(t,r,i){function s(a,g){var c=document.createElement("img"),l;function p(h,b){if(a===g){a&&a(h,b);return}else if(h instanceof Error){g(h);return}b=b||{},b.image=h,a(b)}function A(h,b){b&&e.console&&console.log(b),h&&y("Blob",h)?(t=h,l=f(t)):(l=t,i&&i.crossOrigin&&(c.crossOrigin=i.crossOrigin)),c.src=l}if(c.onerror=function(h){d(l,i),g&&g.call(c,h)},c.onload=function(){d(l,i);var h={originalWidth:c.naturalWidth||c.width,originalHeight:c.naturalHeight||c.height};try{m.transform(c,i,p,t,h)}catch(b){g&&g(b)}},typeof t=="string")return m.requiresMetaData(i)?m.fetchBlob(t,A,i):A(),c;if(y("Blob",t)||y("File",t))return l=f(t),l?(c.src=l,c):x(t,function(h){c.src=h},g)}return e.Promise&&typeof r!="function"?(i=r,new Promise(s)):s(r,r)}m.requiresMetaData=function(t){return t&&t.meta},m.fetchBlob=function(t,r){r()},m.transform=function(t,r,i,s,a){i(t,a)},m.global=e,m.readFile=x,m.isInstanceOf=y,m.createObjectURL=f,m.revokeObjectURL=n,o.exports?o.exports=m:e.loadImage=m})(typeof window<"u"&&window||we)})(ee);var B=ee.exports,te={exports:{}};(function(o){(function(e){o.exports?e(B):e(window.loadImage)})(function(e){var u=e.transform;e.createCanvas=function(f,n,d){if(d&&e.global.OffscreenCanvas)return new OffscreenCanvas(f,n);var x=document.createElement("canvas");return x.width=f,x.height=n,x},e.transform=function(f,n,d,x,y){u.call(e,e.scale(f,n,y),n,d,x,y)},e.transformCoordinates=function(){},e.getTransformedOptions=function(f,n){var d=n.aspectRatio,x,y,m,t;if(!d)return n;x={};for(y in n)Object.prototype.hasOwnProperty.call(n,y)&&(x[y]=n[y]);return x.crop=!0,m=f.naturalWidth||f.width,t=f.naturalHeight||f.height,m/t>d?(x.maxWidth=t*d,x.maxHeight=t):(x.maxWidth=m,x.maxHeight=m/d),x},e.drawImage=function(f,n,d,x,y,m,t,r,i){var s=n.getContext("2d");return i.imageSmoothingEnabled===!1?(s.msImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1):i.imageSmoothingQuality&&(s.imageSmoothingQuality=i.imageSmoothingQuality),s.drawImage(f,d,x,y,m,0,0,t,r),s},e.requiresCanvas=function(f){return f.canvas||f.crop||!!f.aspectRatio},e.scale=function(f,n,d){n=n||{},d=d||{};var x=f.getContext||e.requiresCanvas(n)&&!!e.global.HTMLCanvasElement,y=f.naturalWidth||f.width,m=f.naturalHeight||f.height,t=y,r=m,i,s,a,g,c,l,p,A,h,b,v,S;function C(){var P=Math.max((a||t)/t,(g||r)/r);P>1&&(t*=P,r*=P)}function D(){var P=Math.min((i||t)/t,(s||r)/r);P<1&&(t*=P,r*=P)}if(x&&(n=e.getTransformedOptions(f,n,d),p=n.left||0,A=n.top||0,n.sourceWidth?(c=n.sourceWidth,n.right!==void 0&&n.left===void 0&&(p=y-c-n.right)):c=y-p-(n.right||0),n.sourceHeight?(l=n.sourceHeight,n.bottom!==void 0&&n.top===void 0&&(A=m-l-n.bottom)):l=m-A-(n.bottom||0),t=c,r=l),i=n.maxWidth,s=n.maxHeight,a=n.minWidth,g=n.minHeight,x&&i&&s&&n.crop?(t=i,r=s,v=c/l-i/s,v<0?(l=s*c/i,n.top===void 0&&n.bottom===void 0&&(A=(m-l)/2)):v>0&&(c=i*l/s,n.left===void 0&&n.right===void 0&&(p=(y-c)/2))):((n.contain||n.cover)&&(a=i=i||a,g=s=s||g),n.cover?(D(),C()):(C(),D())),x){if(h=n.pixelRatio,h>1&&!(f.style.width&&Math.floor(parseFloat(f.style.width,10))===Math.floor(y/h))&&(t*=h,r*=h),e.orientationCropBug&&!f.getContext&&(p||A||c!==y||l!==m)&&(v=f,f=e.createCanvas(y,m,!0),e.drawImage(v,f,0,0,y,m,y,m,n)),b=n.downsamplingRatio,b>0&&b<1&&t<c&&r<l)for(;c*b>t;)S=e.createCanvas(c*b,l*b,!0),e.drawImage(f,S,p,A,c,l,S.width,S.height,n),p=0,A=0,c=S.width,l=S.height,f=S;return S=e.createCanvas(t,r),e.transformCoordinates(S,n,d),h>1&&(S.style.width=S.width/h+"px"),e.drawImage(f,S,p,A,c,l,t,r,n).setTransform(1,0,0,1,0,0),S}return f.width=t,f.height=r,f}})})(te);var De=te.exports,re={exports:{}};(function(o){(function(e){o.exports?e(B):e(window.loadImage)})(function(e){var u=e.global,f=e.transform,n=u.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),d=u.ArrayBuffer&&ArrayBuffer.prototype.slice||function(r,i){i=i||this.byteLength-r;var s=new Uint8Array(this,r,i),a=new Uint8Array(i);return a.set(s),a.buffer},x={jpeg:{65505:[],65517:[]}};function y(r,i,s,a){var g=this;function c(l,p){if(!(u.DataView&&n&&r&&r.size>=12&&r.type==="image/jpeg"))return l(a);var A=s.maxMetaDataSize||262144;e.readFile(n.call(r,0,A),function(h){var b=new DataView(h);if(b.getUint16(0)!==65496)return p(new Error("Invalid JPEG file: Missing JPEG marker."));for(var v=2,S=b.byteLength-4,C=v,D,P,U,k;v<S&&(D=b.getUint16(v),D>=65504&&D<=65519||D===65534);){if(P=b.getUint16(v+2)+2,v+P>b.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if(U=x.jpeg[D],U&&!s.disableMetaDataParsers)for(k=0;k<U.length;k+=1)U[k].call(g,b,v,P,a,s);v+=P,C=v}!s.disableImageHead&&C>6&&(a.imageHead=d.call(h,0,C)),l(a)},p,"readAsArrayBuffer")||l(a)}return s=s||{},u.Promise&&typeof i!="function"?(s=i||{},a=s,new Promise(c)):(a=a||{},c(i,i))}function m(r,i,s){return!r||!i||!s?null:new Blob([s,n.call(r,i.byteLength)],{type:"image/jpeg"})}function t(r,i,s){var a={maxMetaDataSize:1024,disableMetaDataParsers:!0};if(!s&&u.Promise)return y(r,a).then(function(g){return m(r,g.imageHead,i)});y(r,function(g){s(m(r,g.imageHead,i))},a)}e.transform=function(r,i,s,a,g){e.requiresMetaData(i)?(g=g||{},y(a,function(c){c!==g&&(u.console&&console.log(c),c=g),f.call(e,r,i,s,a,c)},i,g)):f.apply(e,arguments)},e.blobSlice=n,e.bufferSlice=d,e.replaceHead=t,e.parseMetaData=y,e.metaDataParsers=x})})(re);var $=re.exports,Oe={exports:{}};(function(o){(function(e){o.exports?e(B):e(window.loadImage)})(function(e){var u=e.global;u.fetch&&u.Request&&u.Response&&u.Response.prototype.blob?e.fetchBlob=function(f,n,d){function x(y){return y.blob()}if(u.Promise&&typeof n!="function")return fetch(new Request(f,n)).then(x);fetch(new Request(f,d)).then(x).then(n).catch(function(y){n(null,y)})}:u.XMLHttpRequest&&new XMLHttpRequest().responseType===""&&(e.fetchBlob=function(f,n,d){function x(y,m){d=d||{};var t=new XMLHttpRequest;t.open(d.method||"GET",f),d.headers&&Object.keys(d.headers).forEach(function(r){t.setRequestHeader(r,d.headers[r])}),t.withCredentials=d.credentials==="include",t.responseType="blob",t.onload=function(){y(t.response)},t.onerror=t.onabort=t.ontimeout=function(r){y===m?m(null,r):m(r)},t.send(d.body)}return u.Promise&&typeof n!="function"?(d=n,new Promise(x)):x(n,n)})})})(Oe);var ne={exports:{}};(function(o){(function(e){o.exports?e(B,$):e(window.loadImage)})(function(e){function u(t){t&&(Object.defineProperty(this,"map",{value:this.ifds[t].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[t]||{}}))}u.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},u.prototype.ifds={ifd1:{name:"Thumbnail",map:u.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},u.prototype.get=function(t){return this[t]||this[this.map[t]]};function f(t,r,i){if(i){if(r+i>t.byteLength){console.log("Invalid Exif data: Invalid thumbnail data.");return}return new Blob([e.bufferSlice.call(t.buffer,r,r+i)],{type:"image/jpeg"})}}var n={1:{getValue:function(t,r){return t.getUint8(r)},size:1},2:{getValue:function(t,r){return String.fromCharCode(t.getUint8(r))},size:1,ascii:!0},3:{getValue:function(t,r,i){return t.getUint16(r,i)},size:2},4:{getValue:function(t,r,i){return t.getUint32(r,i)},size:4},5:{getValue:function(t,r,i){return t.getUint32(r,i)/t.getUint32(r+4,i)},size:8},9:{getValue:function(t,r,i){return t.getInt32(r,i)},size:4},10:{getValue:function(t,r,i){return t.getInt32(r,i)/t.getInt32(r+4,i)},size:8}};n[7]=n[1];function d(t,r,i,s,a,g){var c=n[s],l,p,A,h,b,v;if(!c){console.log("Invalid Exif data: Invalid tag type.");return}if(l=c.size*a,p=l>4?r+t.getUint32(i+8,g):i+8,p+l>t.byteLength){console.log("Invalid Exif data: Invalid data offset.");return}if(a===1)return c.getValue(t,p,g);for(A=[],h=0;h<a;h+=1)A[h]=c.getValue(t,p+h*c.size,g);if(c.ascii){for(b="",h=0;h<A.length&&(v=A[h],v!=="\0");h+=1)b+=v;return b}return A}function x(t,r,i){return(!t||t[i])&&(!r||r[i]!==!0)}function y(t,r,i,s,a,g,c,l){var p,A,h,b,v,S;if(i+6>t.byteLength){console.log("Invalid Exif data: Invalid directory offset.");return}if(p=t.getUint16(i,s),A=i+2+12*p,A+4>t.byteLength){console.log("Invalid Exif data: Invalid directory size.");return}for(h=0;h<p;h+=1)b=i+2+12*h,v=t.getUint16(b,s),x(c,l,v)&&(S=d(t,r,b,t.getUint16(b+2,s),t.getUint32(b+4,s),s),a[v]=S,g&&(g[v]=b));return t.getUint32(A,s)}function m(t,r,i,s,a,g,c){var l=t.exif[r];l&&(t.exif[r]=new u(r),t.exifOffsets&&(t.exifOffsets[r]=new u(r)),y(i,s,s+l,a,t.exif[r],t.exifOffsets&&t.exifOffsets[r],g&&g[r],c&&c[r]))}e.parseExifData=function(t,r,i,s,a){if(!a.disableExif){var g=a.includeExifTags,c=a.excludeExifTags||{34665:{37500:!0}},l=r+10,p,A,h;if(t.getUint32(r+4)===1165519206){if(l+8>t.byteLength){console.log("Invalid Exif data: Invalid segment size.");return}if(t.getUint16(r+8)!==0){console.log("Invalid Exif data: Missing byte alignment offset.");return}switch(t.getUint16(l)){case 18761:p=!0;break;case 19789:p=!1;break;default:console.log("Invalid Exif data: Invalid byte alignment marker.");return}if(t.getUint16(l+2,p)!==42){console.log("Invalid Exif data: Missing TIFF marker.");return}A=t.getUint32(l+4,p),s.exif=new u,a.disableExifOffsets||(s.exifOffsets=new u,s.exifTiffOffset=l,s.exifLittleEndian=p),A=y(t,l,l+A,p,s.exif,s.exifOffsets,g,c),A&&x(g,c,"ifd1")&&(s.exif.ifd1=A,s.exifOffsets&&(s.exifOffsets.ifd1=l+A)),Object.keys(s.exif.ifds).forEach(function(b){m(s,b,t,l,p,g,c)}),h=s.exif.ifd1,h&&h[513]&&(h[513]=f(t,l+h[513],h[514]))}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(t,r,i){var s=r.exifOffsets[274];if(!s)return t;var a=new DataView(t,s+8,2);return a.setUint16(0,i,r.exifLittleEndian),t}},e.writeExifData=function(t,r,i,s){return e.exifWriters[r.exif.map[i]](t,r,s)},e.ExifMap=u})})(ne);var Be=ne.exports,Me={exports:{}};(function(o){(function(e){o.exports?e(B,Be):e(window.loadImage)})(function(e){var u=e.ExifMap.prototype;u.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},u.tags.ifd1=u.tags,u.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90° CW",6:"Rotate 90° CW",7:"Horizontal flip + Rotate 90° CW",8:"Rotate 90° CCW"}},u.getText=function(f){var n=this.get(f);switch(f){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[f][n];case"ExifVersion":case"FlashpixVersion":return n?String.fromCharCode(n[0],n[1],n[2],n[3]):void 0;case"ComponentsConfiguration":return n?this.stringValues[f][n[0]]+this.stringValues[f][n[1]]+this.stringValues[f][n[2]]+this.stringValues[f][n[3]]:void 0;case"GPSVersionID":return n?n[0]+"."+n[1]+"."+n[2]+"."+n[3]:void 0}return String(n)},u.getAll=function(){var f={},n,d,x;for(n in this)Object.prototype.hasOwnProperty.call(this,n)&&(d=this[n],d&&d.getAll?f[this.ifds[n].name]=d.getAll():(x=this.tags[n],x&&(f[x]=this.getText(x))));return f},u.getName=function(f){var n=this.tags[f];return typeof n=="object"?this.ifds[f].name:n},function(){var f=u.tags,n,d,x;for(n in f)if(Object.prototype.hasOwnProperty.call(f,n))if(d=u.ifds[n],d){x=f[n];for(n in x)Object.prototype.hasOwnProperty.call(x,n)&&(d.map[x[n]]=Number(n))}else u.map[f[n]]=Number(n)}()})})(Me);var ie={exports:{}};(function(o){(function(e){o.exports?e(B,$):e(window.loadImage)})(function(e){function u(){}u.prototype.map={ObjectName:5},u.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},u.prototype.get=function(t){return this[t]||this[this.map[t]]};function f(t,r,i){for(var s="",a=r+i,g=r;g<a;g+=1)s+=String.fromCharCode(t.getUint8(g));return s}function n(t,r,i,s,a){return r.types[t]==="binary"?new Blob([i.buffer.slice(s,s+a)]):r.types[t]==="Uint16"?i.getUint16(s):f(i,s,a)}function d(t,r){return t===void 0?r:t instanceof Array?(t.push(r),t):[t,r]}function x(t,r,i,s,a,g){for(var c,l,p,A=r+i,h=r;h<A;)t.getUint8(h)===28&&t.getUint8(h+1)===2&&(p=t.getUint8(h+2),(!a||a[p])&&(!g||!g[p])&&(l=t.getInt16(h+3),c=n(p,s.iptc,t,h+5,l),s.iptc[p]=d(s.iptc[p],c),s.iptcOffsets&&(s.iptcOffsets[p]=h))),h+=1}function y(t,r){return t.getUint32(r)===943868237&&t.getUint16(r+4)===1028}function m(t,r){var i=t.getUint8(r+7);return i%2!==0&&(i+=1),i===0&&(i=4),i}e.parseIptcData=function(t,r,i,s,a){if(!a.disableIptc)for(var g=r+i;r+8<g;){if(y(t,r)){var c=m(t,r),l=r+8+c;if(l>g){console.log("Invalid IPTC data: Invalid segment offset.");break}var p=t.getUint16(r+6+c);if(r+p>g){console.log("Invalid IPTC data: Invalid segment size.");break}s.iptc=new u,a.disableIptcOffsets||(s.iptcOffsets=new u),x(t,l,p,s,a.includeIptcTags,a.excludeIptcTags||{202:!0});return}r+=1}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData),e.IptcMap=u})})(ie);var Re=ie.exports,Ie={exports:{}};(function(o){(function(e){o.exports?e(B,Re):e(window.loadImage)})(function(e){var u=e.IptcMap.prototype;u.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},u.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},u.getText=function(f){var n=this.get(f),d=this.map[f],x=this.stringValues[d];return x?x[n]:String(n)},u.getAll=function(){var f={},n,d;for(n in this)Object.prototype.hasOwnProperty.call(this,n)&&(d=this.tags[n],d&&(f[d]=this.getText(d)));return f},u.getName=function(f){return this.tags[f]},function(){var f=u.tags,n=u.map||{},d;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[f[d]]=Number(d))}()})})(Ie);var Te={exports:{}};(function(o){(function(e){o.exports?e(B,De,$):e(window.loadImage)})(function(e){var u=e.transform,f=e.requiresCanvas,n=e.requiresMetaData,d=e.transformCoordinates,x=e.getTransformedOptions;(function(r){if(r.global.document){var i="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k=",s=document.createElement("img");s.onload=function(){if(r.orientation=s.width===2&&s.height===3,r.orientation){var a=r.createCanvas(1,1,!0),g=a.getContext("2d");g.drawImage(s,1,1,1,1,0,0,1,1),r.orientationCropBug=g.getImageData(0,0,1,1).data.toString()!=="255,255,255,255"}},s.src=i}})(e);function y(r,i){var s=r&&r.orientation;return s===!0&&!e.orientation||s===1&&e.orientation||(!i||e.orientation)&&s>1&&s<9}function m(r,i){return r!==i&&(r===1&&i>1&&i<9||r>1&&r<9)}function t(r,i){if(i>1&&i<9)switch(r){case 2:case 4:return i>4;case 5:case 7:return i%2===0;case 6:case 8:return i===2||i===4||i===5||i===7}return!1}e.requiresCanvas=function(r){return y(r)||f.call(e,r)},e.requiresMetaData=function(r){return y(r,!0)||n.call(e,r)},e.transform=function(r,i,s,a,g){u.call(e,r,i,function(c,l){if(l){var p=e.orientation&&l.exif&&l.exif.get("Orientation");if(p>4&&p<9){var A=l.originalWidth,h=l.originalHeight;l.originalWidth=h,l.originalHeight=A}}s(c,l)},a,g)},e.getTransformedOptions=function(r,i,s){var a=x.call(e,r,i),g=s.exif&&s.exif.get("Orientation"),c=a.orientation,l=e.orientation&&g;if(c===!0&&(c=g),!m(c,l))return a;var p=a.top,A=a.right,h=a.bottom,b=a.left,v={};for(var S in a)Object.prototype.hasOwnProperty.call(a,S)&&(v[S]=a[S]);if(v.orientation=c,(c>4&&!(l>4)||c<5&&l>4)&&(v.maxWidth=a.maxHeight,v.maxHeight=a.maxWidth,v.minWidth=a.minHeight,v.minHeight=a.minWidth,v.sourceWidth=a.sourceHeight,v.sourceHeight=a.sourceWidth),l>1){switch(l){case 2:A=a.left,b=a.right;break;case 3:p=a.bottom,A=a.left,h=a.top,b=a.right;break;case 4:p=a.bottom,h=a.top;break;case 5:p=a.left,A=a.bottom,h=a.right,b=a.top;break;case 6:p=a.left,A=a.top,h=a.right,b=a.bottom;break;case 7:p=a.right,A=a.top,h=a.left,b=a.bottom;break;case 8:p=a.right,A=a.bottom,h=a.left,b=a.top;break}if(t(c,l)){var C=p,D=A;p=h,A=b,h=C,b=D}}switch(v.top=p,v.right=A,v.bottom=h,v.left=b,c){case 2:v.right=b,v.left=A;break;case 3:v.top=h,v.right=b,v.bottom=p,v.left=A;break;case 4:v.top=h,v.bottom=p;break;case 5:v.top=b,v.right=h,v.bottom=A,v.left=p;break;case 6:v.top=A,v.right=h,v.bottom=b,v.left=p;break;case 7:v.top=A,v.right=p,v.bottom=b,v.left=h;break;case 8:v.top=b,v.right=p,v.bottom=A,v.left=h;break}return v},e.transformCoordinates=function(r,i,s){d.call(e,r,i,s);var a=i.orientation,g=e.orientation&&s.exif&&s.exif.get("Orientation");if(m(a,g)){var c=r.getContext("2d"),l=r.width,p=r.height,A=l,h=p;switch((a>4&&!(g>4)||a<5&&g>4)&&(r.width=p,r.height=l),a>4&&(A=p,h=l),g){case 2:c.translate(A,0),c.scale(-1,1);break;case 3:c.translate(A,h),c.rotate(Math.PI);break;case 4:c.translate(0,h),c.scale(1,-1);break;case 5:c.rotate(-.5*Math.PI),c.scale(-1,1);break;case 6:c.rotate(-.5*Math.PI),c.translate(-A,0);break;case 7:c.rotate(-.5*Math.PI),c.translate(-A,h),c.scale(1,-1);break;case 8:c.rotate(.5*Math.PI),c.translate(0,-h);break}switch(t(a,g)&&(c.translate(A,h),c.rotate(Math.PI)),a){case 2:c.translate(l,0),c.scale(-1,1);break;case 3:c.translate(l,p),c.rotate(Math.PI);break;case 4:c.translate(0,p),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-p);break;case 7:c.rotate(.5*Math.PI),c.translate(l,-p),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-l,0);break}}}})})(Te);var Le=B;const _e=Ce(Le);function Fe(o){let e,u,f,n,d,x,y,m,t,r,i,s,a,g,c,l,p,A,h,b,v;return{c(){e=O("main"),u=O("h2"),u.textContent="属性指定なし",f=M(),n=O("input"),d=M(),x=O("h2"),x.innerHTML="<code>accept=&quot;image/*&quot; &amp;&amp; capture=&quot;environment&quot;</code>",y=M(),m=O("input"),t=M(),r=O("h2"),r.innerHTML="<code>accept=&quot;image/*&quot; &amp;&amp; capture=&quot;user&quot;</code>",i=M(),s=O("input"),a=M(),g=O("hr"),c=M(),l=O("img"),A=M(),h=O("div"),w(n,"type","file"),w(m,"type","file"),w(m,"name","file"),w(m,"capture","environment"),w(m,"accept","image/*"),m.required=!0,w(s,"type","file"),w(s,"name","file"),w(s,"capture","user"),w(s,"accept","image/*"),s.required=!0,fe(l.src,p="")||w(l,"src",p),w(l,"alt",""),w(l,"class","svelte-1b5sm7g")},m(S,C){ce(S,e,C),E(e,u),E(e,f),E(e,n),E(e,d),E(e,x),E(e,y),E(e,m),E(e,t),E(e,r),E(e,i),E(e,s),E(e,a),E(e,g),E(e,c),E(e,l),o[3](l),E(e,A),E(e,h),o[4](h),b||(v=[j(n,"change",o[2]),j(m,"change",o[2]),j(s,"change",o[2])],b=!0)},p:T,i:T,o:T,d(S){S&&J(e),o[3](null),o[4](null),b=!1,F(v)}}}function Ue(o,e,u){let f=null,n=null;const d=m=>{const t=m.currentTarget.files[0];u(0,f.file=t,f);const r=new FileReader;r.onload=i=>{u(0,f.src=i.target.result,f),_e(i.target.result,(s,a)=>{const g=a.exif&&a.exif.get("GPSInfo");if(g){const c=g.get("GPSLatitude"),l=g.get("GPSLongitude"),p=c[0]+c[1]/60+c[2]/3600,A=l[0]+l[1]/60+l[2]/3600;u(1,n.innerText="緯度:"+p+",経度:"+A,n)}},{meta:!0})},r.readAsDataURL(t)};function x(m){G[m?"unshift":"push"](()=>{f=m,u(0,f)})}function y(m){G[m?"unshift":"push"](()=>{n=m,u(1,n)})}return[f,n,d,x,y]}class ke extends Ee{constructor(e){super(),Se(this,e,Ue,Fe,se,{})}}new ke({target:document.getElementById("app")});
