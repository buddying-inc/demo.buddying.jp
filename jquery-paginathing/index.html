<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/alfrcr/paginathing/dist/paginathing.min.js"></script>
    <script>
        'use strict';

        (function (jq) {
            jq(document).ready(function () {
                jq('#pagination').paginathing({
                    perPage: 10,
                });

                const target = document.getElementsByClassName('pagination-container');
                const observer = new MutationObserver(function (mutations) {
                    let el = mutations[0].target;

                    jq.each(jq('.page-item.number .page-link'), function (index, el) {
                        jq(el).attr('href', '#' + (index + 1))
                    });
                    jq('.page-link').on('click', function (el) {
                        history.pushState('', '', jq(this).attr('href'));
                        window.scrollTo(0, 0);
                    });
                });
                observer.observe(target[0], {
                    // attributes: true, // 属性変化の監視
                    // attributeOldValue: true, // 変化前の属性値を matation.oldValue に格納する
                    // characterData: true, // テキストノードの変化を監視
                    // characterDataOldValue: true, // 変化前のテキストを matation.oldValue に格納する
                    childList: true, // 子ノードの変化を監視
                    subtree: true // 子孫ノードも監視対象に含める
                });

                if (document.location.hash !== '') {
                    let page = document.location.hash.substring(1);
                    jq('.page-item.number').eq(page - 1).trigger('click');
                } else {
                    jq('.page-item.number').eq(0).trigger('click');
                }
                jq.each(jq('.page-item.number .page-link'), function (index, el) {
                    jq(el).attr('href', '#' + (index + 1))
                });
                jq('.page-link').on('click', function (el) {
                    history.pushState('', '', jq(this).attr('href'));
                    window.scrollTo(0, 0);
                });
            });

            jq(window).on('hashchange', function () {
                if (document.location.hash !== '') {
                    let page = document.location.hash.substring(1);
                    jq('.page-item.number').eq(page - 1).trigger('click');
                } else {
                    jq('.page-item.number').eq(0).trigger('click');
                }
            });
        })(jQuery);
    </script>
    <style>
        ul li {
            margin-bottom: 2rem;
        }
    </style>
</head>
<body>
<ul id="pagination">
    <li><a href="20.html">20件目</a></li>
    <li><a href="19.html">19件目</a></li>
    <li><a href="18.html">18件目</a></li>
    <li><a href="17.html">17件目</a></li>
    <li><a href="16.html">16件目</a></li>
    <li><a href="15.html">15件目</a></li>
    <li><a href="14.html">14件目</a></li>
    <li><a href="13.html">13件目</a></li>
    <li><a href="12.html">12件目</a></li>
    <li><a href="11.html">11件目</a></li>
    <li><a href="10.html">10件目</a></li>
    <li><a href="9.html">9件目</a></li>
    <li><a href="8.html">8件目</a></li>
    <li><a href="7.html">7件目</a></li>
    <li><a href="6.html">6件目</a></li>
    <li><a href="5.html">5件目</a></li>
    <li><a href="4.html">4件目</a></li>
    <li><a href="3.html">3件目</a></li>
    <li><a href="2.html">2件目</a></li>
    <li><a href="1.html">1件目</a></li>
</ul>
</body>
</html>
