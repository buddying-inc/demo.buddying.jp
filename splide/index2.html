<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.splide.js-horizontal').forEach((/** @type {HTMLElement} */ el) => {
          const splide = new Splide(el, {
            type: 'loop',
            // autoplay: true,
            resetProgress: false,
            arrows: false,
            interval: 4000,
            // direction: 'ttb',
            // wheelSleep: 1000,
            // heightRatio: 1.5
          });
          splide.mount();
        });
      });

      document.addEventListener('DOMContentLoaded', () => {
        // '.js-scroll-next'クラスが付いた要素がクリックされたときのイベントリスナーを設定
        document.querySelector('.js-scroll-next').addEventListener('click', function() {
          // スクロールするコンテナ要素を取得
          const container = document.querySelector('.js-scroll-container');
          // コンテナ内のスクロール対象のアイテム要素をすべて取得
          const items = document.querySelectorAll('.js-scroll-item');
          // 現在のスクロール位置を取得
          const currentScroll = container.scrollTop;
          // 次のスクロール位置を初期化
          let nextScroll = 0;

          // すべてのアイテムをループして、現在のスクロール位置より下にある最初のアイテムを見つける
          for (let i = 0; i < items.length; i++) {
            const item = items[i];
            // アイテムの上端が現在のスクロール位置より下にあるか確認
            if (item.offsetTop > currentScroll) {
              // 次のスクロール位置をそのアイテムの上端に設定
              nextScroll = item.offsetTop;
              break; // 最初に見つかったアイテムでループを終了
            }
          }

          // コンテナを次のスクロール位置までスムーズにスクロール
          container.scrollTo({
            top: nextScroll,
            behavior: 'smooth'
          });
        });
      });
    </script>

    <script>
      // モーダルダイアログを動的に作成
      function createModal() {
        const dialog = document.createElement('dialog');
        dialog.id = 'dynamicModal';

        // 閉じるボタン
        const closeButton = document.createElement('button');
        closeButton.className = 'close';
        closeButton.innerHTML = '&times;';
        closeButton.setAttribute('aria-label', '閉じる');

        // モーダル内の画像
        const modalImage = document.createElement('img');
        modalImage.className = 'modal-content';
        modalImage.alt = '拡大画像';

        // ダイアログに要素を追加
        dialog.appendChild(closeButton);
        dialog.appendChild(modalImage);

        // 閉じるボタンのイベントリスナー
        closeButton.addEventListener('click', () => {
          dialog.close();
        });

        // 背景クリックで閉じる
        dialog.addEventListener('click', (event) => {
          if (event.target === dialog) {
            dialog.close();
          }
        });

        // ESCキーで閉じる
        dialog.addEventListener('keydown', (event) => {
          if (event.key === 'Escape') {
            dialog.close();
          }
        });

        // ドキュメントにダイアログを追加
        document.body.appendChild(dialog);

        return dialog;
      }

      document.addEventListener('DOMContentLoaded', () => {
        // モーダルを初期化
        const modal = createModal();
        const modalImage = modal.querySelector('.modal-content');

        // .js-clickable .js-thumbnail をクリックしたときの処理
        document.querySelectorAll('.js-clickable .js-thumbnail').forEach(img => {
          img.addEventListener('click', function() {
            modalImage.src = this.src; // クリックされた画像のsrcをモーダルに設定
            modal.showModal(); // モーダルを表示
          });
        });
      });
    </script>

</head>
<body id="app" class="bg-slate-50 text-slate-700 tracking-wide selection:bg-fuchsia-300 selection:text-fuchsia-900">
<div class="relative">
    <div class="bg-white snap-y snap-mandatory h-dvh w-full md:max-w-4xl overflow-scroll mx-auto js-scroll-container">
        <div class="snap-start snap-always min-h-dvh w-full scroll-mb-10 js-scroll-item">
            <h2 class="text-lg font-bold p-2">投稿タイトル：DISCOVERED が UNION とコラボレーションコレクションを発表！渋谷 PARCO にて 12 月 27 日(金)から POP UP SHOP もオープン</h2>
            <section class="splide js-horizontal w-full">
                <div class="splide__track">
                    <ul class="splide__list">
                        <li class="splide__slide">
                            <picture>
                                <source media="(max-width: 768px)" srcset="https://placehold.jp/30/eeaabb/ffffff/300x300.png?text=MAIN+IMAGE+MOBILE1 2x">
                                <img src="https://placehold.jp/30/eeaabb/ffffff/1280x800.png?text=MAIN+IMAGE+DESKTOP1" alt="MAIN IMAGE DESKTOP1" class="w-full">
                            </picture>
                        </li>
                        <li class="splide__slide">
                            <picture>
                                <source media="(max-width: 768px)" srcset="https://placehold.jp/30/eeaabb/ffffff/300x300.png?text=MAIN+IMAGE+MOBILE2 2x">
                                <img src="https://placehold.jp/30/eeaabb/ffffff/1280x800.png?text=MAIN+IMAGE+DESKTOP2" alt="MAIN IMAGE DESKTOP2" class="w-full">
                            </picture>
                        </li>
                        <li class="splide__slide">
                            <picture>
                                <source media="(max-width: 768px)" srcset="https://placehold.jp/30/eeaabb/ffffff/300x300.png?text=MAIN+IMAGE+MOBILE3 2x">
                                <img src="https://placehold.jp/30/eeaabb/ffffff/1280x800.png?text=MAIN+IMAGE+DESKTOP3" alt="MAIN IMAGE DESKTOP3" class="w-full">
                            </picture>
                        </li>
                    </ul>
                </div>
            </section>
            <p class="mb-5 p-2 font-bold">記事本文：PAGE BREAK1</p>
            <p class="mb-5 p-2">木村多津也と吉田早苗によるファッションブランド「ディスカバード（DISCOVERED）」 から、長年にわたり DISCOVERED のスタイルに共鳴し続けてきた Chris Gibbs （クリス・ギブス）との特別なコラボレーションが発表されました。</p>
            <p class="mb-5 p-2">今回のコラボレーションでは、DISCOVERED が得意とする解体されたウェアを特徴的なステッチ ワークで再構築する手法を採用しており、革新的でありながらも親しみやすいアイテムを 展開します。</p>
        </div>
        <div class="snap-start snap-always min-h-dvh w-full scroll-mb-10 js-scroll-item">
            <hr class="border-t-1">
            <section class="splide js-horizontal md:mx-auto md:max-w-md">
                <div class="splide__track">
                    <ul class="splide__list">
                        <li class="splide__slide">
                            <img src="https://placehold.jp/30/ffcc00/ffffff/300x300.png?text=placeholder+image1" alt="placeholder image1" class="w-full">
                        </li>
                        <li class="splide__slide">
                            <img src="https://placehold.jp/30/dd6699/ffffff/300x300.png?text=placeholder+image2" alt="placeholder image2" class="w-full">
                        </li>
                        <li class="splide__slide">
                            <img src="https://placehold.jp/30/aaff00/ffffff/300x300.png?text=placeholder+image3" alt="placeholder image3" class="w-full">
                        </li>
                    </ul>
                </div>
            </section>
            <p class="mb-5 p-2 font-bold">記事本文：PAGE BREAK2</p>
            <p class="mb-5 p-2">さらに、ベイエリア出身のラッパーLarry June（ラリー・ジューン）を起用したエディトリアルも登場し、彼の独自のスタイルとコラボレーションアイテムとの融合にも注目です。</p>
            <p class="mb-5 p-2">さらに、ベイエリア出身のラッパーLarry June（ラリー・ジューン）を起用したエディトリアルも登場し、彼の独自のスタイルとコラボレーションアイテムとの融合にも注目です。</p>
            <p class="mb-5 p-2">さらに、ベイエリア出身のラッパーLarry June（ラリー・ジューン）を起用したエディトリアルも登場し、彼の独自のスタイルとコラボレーションアイテムとの融合にも注目です。</p>
        </div>
        <div class="snap-start snap-always min-h-dvh w-full scroll-mb-10 js-scroll-item">
            <hr class="border-t-1">
            <div class="md:mx-auto md:max-w-md">
                <img src="https://placehold.jp/30/aaaabb/ffffff/300x350.png?text=placeholder+image" alt="" class="w-full">
            </div>
            <p class="mb-5 p-2 font-bold">記事本文：PAGE BREAK3</p>
            <p class="mb-5 p-2">UNION LOOPING DAMAGE CUTSEWN<br>COL：BLACK / ECRU<br>¥31,900</p>
        </div>
        <div class="snap-start snap-always w-full scroll-mb-10 js-scroll-item"><!-- フッター前のブロックには min-h-dvh を入れない! -->
            <hr class="border-t-1">
            <table class="border-separate border-spacing-5 md:border-spacing-10 mx-auto w-full md:max-w-lg">
                <tbody>
                <tr>
                    <td class="w-24 md:w-48">
                        <div class="js-clickable">
                            <img src="https://placehold.jp/30/aaaabb/ffffff/500x500.png?text=PRODUCT1" alt="" class="w-full js-thumbnail">
                        </div>
                    </td>
                    <td>
                        <p class="text-sm">UNION LOOPING DAMAGE CUTSEWN この T シャツは胸元に刺繡が入り</p>
                        <p class="text-sm">●●●●●●●●●●●●●●●● ●●●●●●●●●●●●●●●● ●●●●●●●●●●●●●●●● ●●●●●●●●●●●●●●●● ●●●●●●●●●●●●●●●●</p>
                    </td>
                </tr>
                <tr>
                    <td class="w-24 md:w-48">
                        <div class="js-clickable">
                            <img src="https://placehold.jp/30/aaaabb/ffffff/500x500.png?text=PRODUCT2" alt="" class="w-full js-thumbnail">
                        </div>
                    </td>
                    <td>
                        <p class="text-sm">UNION LOOPING DAMAGE CUTSEWN この T シャツは胸元に刺繡が入り</p>
                    </td>
                </tr>
                <tr>
                    <td class="w-24 md:w-48">
                        <div class="js-clickable">
                            <img src="https://placehold.jp/30/aaaabb/ffffff/500x500.png?text=PRODUCT3" alt="" class="w-full js-thumbnail">
                        </div>
                    </td>
                    <td>
                        <p class="text-sm">UNION LOOPING DAMAGE CUTSEWN この T シャツは胸元に刺繡が入り</p>
                    </td>
                </tr>
                </tbody>
            </table>
            <p class="mb-5 p-2 font-bold">記事本文：PAGE BREAK4</p>
        </div>
        <div class="snap-end snap-always h-full w-full scroll-mb-10">
            <div class="bg-gray-50">
                <p class="p-5">FOOTER</p>
            </div>
        </div>
    </div>
    <button type="button" class="absolute bottom-0 right-0 js-scroll-next bg-blue-50/30 text-blue-500 text-sm font-bold backdrop-blur-sm p-3 rounded-tl-lg animate-pulse">↓</button>
</div>
</body>
</html>
